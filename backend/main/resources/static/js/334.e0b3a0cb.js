"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[334],{334:function(t,e,o){o.r(e),o.d(e,{default:function(){return H}});var s=o(252),l=o(963),i=o(577),r=o(668);const n=t=>((0,s.dD)("data-v-6591ab3e"),t=t(),(0,s.Cn)(),t),a={id:"inputDiv"},d=(0,s.Uk)(" Choose x: "),u=n((()=>(0,s._)("br",null,null,-1))),c=n((()=>(0,s._)("br",null,null,-1))),h=(0,s.Uk)(" Choose y: "),p=n((()=>(0,s._)("br",null,null,-1))),m=n((()=>(0,s._)("br",null,null,-1))),g=(0,s.Uk)(" Choose r: "),b=n((()=>(0,s._)("br",null,null,-1))),y=n((()=>(0,s._)("br",null,null,-1))),x=n((()=>(0,s._)("img",{id:"coordsImg",src:r,style:{position:"absolute","object-fit":"fill",width:"500px",height:"500px"}},null,-1))),v={class:"rOnCoords",id:"top2R"},_={class:"rOnCoords",id:"topR"},f={class:"rOnCoords",id:"right2R"},w={class:"rOnCoords",id:"rightR"},k={class:"rOnCoords",id:"bottom2R"},C={class:"rOnCoords",id:"bottomR"},P={class:"rOnCoords",id:"left2R"},T={class:"rOnCoords",id:"leftR"},B={id:"tableDiv",style:{overflow:"scroll"}},I={id:"maintable"},A={class:"table"},D={style:{width:"100%"}},z={id:"result-table"},R=n((()=>(0,s._)("tr",{class:"table-header"},[(0,s._)("th",{class:"coords-col"}," X "),(0,s._)("th",{class:"coords-col"},"Y"),(0,s._)("th",{class:"coords-col"},"R"),(0,s._)("th",{class:"hitres-col"}," Hit result"),(0,s._)("th",{class:"time-col"}," Excution time")],-1))),N={class:"coords-col"},E={class:"coords-col"},F={class:"coords-col"},S={class:"hitres-col"},O={class:"time-col"};function G(t,e,o,r,n,G){return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("button",{id:"logoutButton",onClick:e[0]||(e[0]=(...t)=>G.logout&&G.logout(...t))},"Logout"),(0,s._)("div",a,[d,(0,s.wy)((0,s._)("input",{id:"xTextinput",type:"text",name:"xval",maxlength:"9",autocomplete:"off",placeholder:"Number from -3 to 5","onUpdate:modelValue":e[1]||(e[1]=t=>n.x=t)},null,512),[[l.nr,n.x]]),u,c,h,(0,s.wy)((0,s._)("input",{id:"yTextinput",type:"text",name:"yval",maxlength:"9",autocomplete:"off",placeholder:"Number from -3 to 3","onUpdate:modelValue":e[2]||(e[2]=t=>n.y=t)},null,512),[[l.nr,n.y]]),p,m,g,(0,s.wy)((0,s._)("input",{id:"rTextinput",type:"text",name:"rval",maxlength:"9",autocomplete:"off",placeholder:"Number from -3 to 5","onUpdate:modelValue":e[3]||(e[3]=t=>n.r=t),onInput:e[4]||(e[4]=(...t)=>G.drawPoints&&G.drawPoints(...t))},null,544),[[l.nr,n.r]]),b,y,(0,s._)("button",{class:"inputButton",type:"reset",id:"resetButton",onClick:e[5]||(e[5]=(...t)=>G.resetPoints&&G.resetPoints(...t))},"Reset"),(0,s._)("button",{class:"inputButton",id:"submitButton",onClick:e[6]||(e[6]=(...t)=>G.submitForm&&G.submitForm(...t))},"Submit")]),(0,s._)("div",{id:"coordsDiv",onClick:e[7]||(e[7]=(...t)=>G.sendPointFromCoords&&G.sendPointFromCoords(...t)),style:{cursor:"pointer"}},[x,(0,s._)("div",v,(0,i.zw)(n.r),1),(0,s._)("div",_,(0,i.zw)(n.r/2),1),(0,s._)("div",f,(0,i.zw)(n.r),1),(0,s._)("div",w,(0,i.zw)(n.r/2),1),(0,s._)("div",k,(0,i.zw)(-n.r),1),(0,s._)("div",C,(0,i.zw)(-n.r/2),1),(0,s._)("div",P,(0,i.zw)(-n.r),1),(0,s._)("div",T,(0,i.zw)(-n.r/2),1)]),(0,s._)("div",B,[(0,s._)("div",I,[(0,s._)("div",A,[(0,s._)("table",D,[(0,s._)("table",z,[R,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.points,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t},[(0,s._)("td",N,(0,i.zw)(t.x.toFixed(3)),1),(0,s._)("td",E,(0,i.zw)(t.y.toFixed(3)),1),(0,s._)("td",F,(0,i.zw)(t.r),1),(0,s._)("td",S,(0,i.zw)(t.hitResult),1),(0,s._)("td",O,(0,i.zw)(t.time),1)])))),128))])])])])])],64)}var U={name:"Main",data(){return{x:"0",y:"0",r:"3",points:new Array}},created(){this.getPoints(),this.drawPoints()},watch:{x(t){const e=document.getElementById("submitButton"),o=document.getElementById("xTextinput");!isNaN(parseFloat(t))&&isFinite(t)&&-3<=t&&t<=5?(e.disabled=!1,e.style.border="2px solid black",o.style.backgroundColor="white"):(e.disabled=!0,e.style.border="2px solid red",o.style.backgroundColor="red")},y(t){const e=document.getElementById("submitButton"),o=document.getElementById("yTextinput");!isNaN(parseFloat(t))&&isFinite(t)&&-3<=t&&t<=3?(e.disabled=!1,e.style.border="2px solid black",o.style.backgroundColor="white"):(e.disabled=!0,e.style.border="2px solid red",o.style.backgroundColor="red")},r(t){const e=document.getElementById("submitButton"),o=document.getElementById("rTextinput");if(!isNaN(parseFloat(t))&&isFinite(t)&&-3<=t&&t<=5)if(e.disabled=!1,e.style.border="2px solid black",o.style.backgroundColor="white",t<0){let t=document.getElementById("coordsImg");t.style.transform="rotate(180deg)"}else{let t=document.getElementById("coordsImg");t.style.transform="rotate(0)"}else e.disabled=!0,e.style.border="2px solid red",o.style.backgroundColor="red"}},methods:{submitForm(t){t.preventDefault();const e=JSON.parse(localStorage.getItem("userDetails"));e?this.axios.post("http://localhost:8081/points",{x:this.x,y:this.y,r:this.r},{headers:{Authorization:"Bearer "+e.accessToken}}).then((()=>{this.getPoints()})).catch((t=>{401!=t.response.status&&403!=t.response.status||this.invalidateTokenAndGoToAuthPage()})):this.invalidateTokenAndGoToAuthPage()},resetPoints(t){t.preventDefault(),this.axios.delete("http://localhost:8081/points/",{headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("userDetails")).accessToken}}).then((()=>{alert("WARNING: POINTS RESET!"),this.getPoints()})).then((()=>{this.getPoints(),this.$router.go()})).catch((t=>{401!==t.response.status&&403!==t.response.status||this.invalidateTokenAndGoToAuthPage()}))},getPoints(){const t=JSON.parse(localStorage.getItem("userDetails"));this.axios.get("http://localhost:8081/points/",{headers:{Authorization:"Bearer "+t.accessToken}}).then((t=>{let e=new Array;for(let o of t.data._embedded.points)e.push((({x:t,y:e,r:o,hitResult:s,time:l})=>({x:t,y:e,r:o,hitResult:s,time:l}))(o));this.points=e,this.drawPoints()})).catch((t=>{401!==t.response.status&&403!==t.response.status||this.invalidateTokenAndGoToAuthPage()}))},invalidateTokenAndGoToAuthPage(){localStorage.removeItem("userDetails"),this.$router.push({name:"auth"})},drawPoints(){if(document.querySelectorAll(".div--point").forEach((t=>t.remove())),-3<=this.r&&this.r<=5){const t=document.getElementById("coordsDiv");if(this.points)for(let e of this.points){let o=document.createElement("div");o.classList.add("div--point"),o.style.position="absolute",o.style.width="10px",o.style.height="10px",o.style.backgroundColor=e.hitResult?"green":"red";let s=e.x,l=e.y;s/=this.r,l/=this.r,s=s/2.5+.5,l=l/-2.5+.5,s*=500,l*=500,s-=5,l-=5,o.style.left=s+"px",o.style.top=l+"px",s<=500&&l<=500&&s>=0&&l>=0&&t.appendChild(o)}}},sendPointFromCoords(t){t.preventDefault();const e=document.getElementById("coordsDiv");let o=e.getBoundingClientRect(),s=t.clientX-o.left,l=t.clientY-o.top;s/=500,l/=500,s=2.5*(s-.5),l=-2.5*(l-.5),s*=this.r,l*=this.r,this.axios.post("http://localhost:8081/points",{x:s,y:l,r:this.r},{headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("userDetails")).accessToken}}).then((()=>{this.getPoints()})).catch((t=>{401===t.response.status&&this.invalidateTokenAndGoToAuthPage()}))},logout(t){t.preventDefault(),localStorage.removeItem("userDetails"),this.$router.push({name:"auth"})}}},J=o(744);const Y=(0,J.Z)(U,[["render",G],["__scopeId","data-v-6591ab3e"]]);var H=Y},668:function(t,e,o){t.exports=o.p+"img/Lab4Coordinates.c11317fb.png"}}]);
//# sourceMappingURL=334.e0b3a0cb.js.map